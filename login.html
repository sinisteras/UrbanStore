<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ - Urban Store</title>
    <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Tajawal', sans-serif;
            background: linear-gradient(135deg, #2c3e50 0%, #000000 100%);
            height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            margin: 0;
        }
        .auth-card {
            background: white;
            padding: 40px;
            border-radius: 15px;
            box-shadow: 0 10px 25px rgba(0,0,0,0.2);
            width: 100%;
            max-width: 350px;
            text-align: center;
        }
        .auth-card h2 { margin-bottom: 20px; color: #333; }
        .input-group { margin-bottom: 15px; text-align: right; }
        .input-group label { display: block; margin-bottom: 5px; color: #666; font-size: 0.9em; }
        .input-group input {
            width: 100%;
            padding: 12px;
            border: 1px solid #ddd;
            border-radius: 8px;
            box-sizing: border-box;
            transition: border 0.3s;
            text-align: left;
        }
        .input-group input:focus { border-color: #1abc9c; outline: none; }
        
        .btn-primary {
            width: 100%;
            padding: 12px;
            background: #2c3e50;
            color: white;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 16px;
            font-weight: bold;
            transition: background 0.3s;
            margin-bottom: 10px;
        }
        .btn-primary:hover { background: #1abc9c; }
        
        .link-text { margin-top: 15px; font-size: 0.9em; color: #555; }
        .link-text a { color: #1abc9c; text-decoration: none; font-weight: bold; }
        .recovery-options { border-top: 1px solid #eee; margin-top: 20px; padding-top: 10px; }
    </style>
</head>
<body>

    <div class="auth-card">
        <h2>ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„</h2>
        <div class="input-group">
            <label>Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ</label>
            <input type="tel" id="loginPhone" placeholder="077XXXXXXXX" required>
        </div>
        <div class="input-group">
            <label>ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±</label>
            <input type="password" id="loginPass" placeholder="******" required>
        </div>
        
        <button onclick="handleLogin()" class="btn-primary">Ø¯Ø®ÙˆÙ„</button>

        <div class="recovery-options">
            <p class="link-text">
                Ù†Ø³ÙŠØª ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±ØŸ<br>
                <a href="javascript:void(0)" onclick="showMyPassword()" style="color: #e67e22;">ÙƒØ´Ù Ø§Ù„Ø±Ù…Ø² Ù…Ù† Ù‡Ø°Ø§ Ø§Ù„Ø¬Ù‡Ø§Ø² ğŸ”</a>
                <br>Ø£Ùˆ<br>
                <a href="https://wa.me/9647724329890?text=Ù…Ø±Ø­Ø¨Ø§Ù‹ØŒ Ù†Ø³ÙŠØª ÙƒÙ„Ù…Ø© Ø§Ù„Ø³Ø±ØŒ Ø±Ù‚Ù…ÙŠ Ù‡Ùˆ: " target="_blank">
                    Ø§Ø³ØªØ±Ø¬Ø§Ø¹ Ø¹Ø¨Ø± ÙˆØ§ØªØ³Ø§Ø¨ ğŸ’¬
                </a>
            </p>
        </div>

        <p class="link-text">Ù„ÙŠØ³ Ù„Ø¯ÙŠÙƒ Ø­Ø³Ø§Ø¨ØŸ <a href="signup.html">Ø£Ù†Ø´Ø¦ Ø­Ø³Ø§Ø¨Ø§Ù‹ Ø¬Ø¯ÙŠØ¯Ø§Ù‹</a></p>
        <p class="link-text"><a href="index.html">Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„Ù„Ù…ØªØ¬Ø±</a></p>
    </div>

    <script src="script.js"></script>
    
<script>
    function handleLogin() {
        const phone = document.getElementById('loginPhone').value.trim();
        const pass = document.getElementById('loginPass').value.trim();

        if(!phone || !pass) {
            alert("ÙŠØ±Ø¬Ù‰ Ù…Ù„Ø¡ ÙƒØ§ÙØ© Ø§Ù„Ø­Ù‚ÙˆÙ„");
            return;
        }

        // Ø¬Ù„Ø¨ Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ† Ù…Ù† Ø§Ù„Ù…ØªØµÙØ­
        let users = JSON.parse(localStorage.getItem('registered_users')) || [];
        
        // Ø§Ù„Ø¨Ø­Ø« Ø¹Ù† Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø§Ù„Ø°ÙŠ ÙŠØ·Ø§Ø¨Ù‚ Ø§Ù„Ø±Ù‚Ù… ÙˆØ§Ù„Ø¨Ø§Ø³ÙˆØ±Ø¯
        const user = users.find(u => u.phone === phone && u.password === pass);

        if (user) {
            alert('ØªÙ… ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø¨Ù†Ø¬Ø§Ø­! Ø£Ù‡Ù„Ø§Ù‹ Ø¨Ùƒ.');
            
            // --- Ø§Ù„ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ù…Ù‡Ù… Ù‡Ù†Ø§ Ù„Ø±Ø¨Ø· Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø¨Ø§Ù„Ø³Ù„Ø© ÙˆØ§Ù„ÙˆØ§ØªØ³Ø§Ø¨ ---
            localStorage.setItem('isLoggedIn', 'true');
            localStorage.setItem('userName', user.name || "Ø²Ø¨ÙˆÙ†"); // Ø­ÙØ¸ Ø§Ù„Ø§Ø³Ù…
            localStorage.setItem('userPhone', user.phone);         // Ø­ÙØ¸ Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ âœ…
            // --------------------------------------------------

            window.location.href = 'index.html';
        } else {
            alert('Ø®Ø·Ø£: Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ Ø£Ùˆ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± ØºÙŠØ± ØµØ­ÙŠØ­Ø©!');
        }
    }

    function showMyPassword() {
        let phone = prompt("Ø£Ø¯Ø®Ù„ Ø±Ù‚Ù… Ù‡Ø§ØªÙÙƒ Ø§Ù„Ù…Ø³Ø¬Ù„ Ù„Ù„ØªØ£ÙƒØ¯:");
        if (!phone) return;

        let users = JSON.parse(localStorage.getItem('registered_users')) || [];
        let user = users.find(u => u.phone === phone);

        if (user) {
            alert("âœ… ØªÙ… Ø§Ù„Ø¹Ø«ÙˆØ± Ø¹Ù„Ù‰ Ø§Ù„Ø­Ø³Ø§Ø¨!\nÙƒÙ„Ù…Ø© Ø§Ù„Ø³Ø± Ø§Ù„Ø®Ø§ØµØ© Ø¨Ùƒ Ù‡ÙŠ: " + user.password);
        } else {
            alert("âŒ Ø¹Ø°Ø±Ø§Ù‹ØŒ Ù‡Ø°Ø§ Ø§Ù„Ø±Ù‚Ù… ØºÙŠØ± Ù…Ø³Ø¬Ù„ ÙÙŠ Ù‡Ø°Ø§ Ø§Ù„Ù…ØªØµÙØ­.");
        }
    }
</script>

</body>
</html>
<link rel="stylesheet" href="style.css?v=1.1">